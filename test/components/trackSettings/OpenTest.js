import React from 'react';
import { mount } from 'enzyme';
import Open from 'components/trackSettings/Open.js';

describe('<Open />', function () {

  describe('when rendering the component', function () {
    const actions = {
      setMap: sinon.spy(),
      startAddingPoint: sinon.spy(),
      closeTrack: sinon.spy(),
      deletePoint: sinon.spy(),
      setName: sinon.spy()
    };

    const component = mount(<Open actions={actions} />);

    it('should have a className of "open-component"', function () {
      expect(component.hasClass('open-component')).to.equal(true);
    });

    it('should trigger SET_MAP action', function () {
      const wrapper = component.find('MonitoredSelectbox');
      wrapper.simulate('change', {target: {value: 'TheDrawingBoard'}});

      expect(actions.setMap.called).to.be.true;
    });

    it('should trigger START_ADDING_POINT action', function () {
      const wrapper = component.find('.add-button');
      wrapper.simulate('click');

      expect(actions.startAddingPoint.called).to.be.true;
    });

    it('should trigger CLOSE_TRACK action', function () {
      const wrapper = component.find('.close-button');
      wrapper.simulate('click');

      expect(actions.closeTrack.called).to.be.true;
    });
  });
});
